<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>РАСКРОЙ СВОЙ КРИСТАЛЛ ДУШИ</title>
  <style>
    :root{
      --bg:#0f1220; --panel:#141b3a; --ink:#eaf3ff; --muted:#9fb0d8; --ring:#34406a;
      --inst1:#ff5e6a1a; --inst1-accent:#ff5e6a;
      --inst2:#4aa3ff1a; --inst2-accent:#4aa3ff;
      --inst3:#3ddc971a; --inst3-accent:#3ddc97;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
    .wrap{max-width:980px;margin:auto;padding:22px}
    h1{margin:8px 0 16px;text-align:center;line-height:1.15;font-weight:800;font-size:clamp(24px,5vw,44px)}
    .glow{color:#ffd966;text-shadow:0 0 6px #ffebb0,0 0 12px #ffd966,0 0 22px #ffcc33}

    .panel{background:#131937;border-radius:16px;padding:16px;margin:14px 0}
    .controls{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;align-items:end}
    .field{display:flex;flex-direction:column;gap:6px;background:#101735;border:1px solid var(--ring);padding:10px 12px;border-radius:10px}
    .field span{font-size:14px;color:var(--muted)}
    input[type="date"], select{background:transparent;border:0;color:var(--ink);font-size:16px;outline:none}
    .row{display:flex;gap:10px;align-items:center}
    .checkbox{display:flex;align-items:center;gap:6px;background:#101735;border:1px solid var(--ring);padding:10px 12px;border-radius:10px}
    .checkbox input{accent-color:#2d6ae0}

    button{cursor:pointer;border:0;border-radius:12px;padding:12px 16px;font-weight:700}
    .primary{background:#2d6ae0;color:#fff}
    .secondary{background:#3b476f;color:#fff}
    .langBtn{background:#444;color:#fff}

    .badge{display:inline-block;background:#1a244d;border:1px solid var(--ring);border-radius:999px;padding:8px 14px;margin:8px 0}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;max-width:460px;margin:16px auto}
    .cell{position:relative;border-radius:14px;padding:26px 0;text-align:center;font-weight:900;font-size:26px;color:#00110d;box-shadow:0 8px 20px rgba(0,0,0,.28)}
    .cell small{position:absolute;left:8px;top:6px;font:700 11px/1 system-ui;color:rgba(0,0,0,.65)}

    /* палитра 1..12 */
    .c1{background:#ff6b6b}.c2{background:#ff994d}.c3{background:#ffd54d}.c4{background:#b8ff6e}
    .c5{background:#24a148;color:#eafff5}.c6{background:#9ee5ff}.c7{background:#5294ff;color:#eef6ff}
    .c8{background:#cfe5ff}.c9{background:#9b6cff;color:#fff}.c10{background:#cba6ff}.c11{background:#ff78c6}.c12{background:#ffc7d7}

    .card{background:#1b2145;border-radius:16px;padding:16px;margin:12px auto;max-width:780px}
    .card h3{margin:0 0 10px;text-align:center}
    .muted{color:var(--muted)}

    /* Цветные секции инструкции */
    .instSection{border-radius:14px;padding:14px 16px;margin:16px 0}
    .inst1{background:var(--inst1);border-left:4px solid var(--inst1-accent)}
    .inst2{background:var(--inst2);border-left:4px solid var(--inst2-accent)}
    .inst3{background:var(--inst3);border-left:4px solid var(--inst3-accent)}
    .instTitle{margin:0 0 8px;font-weight:800}
    .inst1 .instTitle{color:var(--inst1-accent)}
    .inst2 .instTitle{color:var(--inst2-accent)}
    .inst3 .instTitle{color:var(--inst3-accent)}
    .instSection p{margin:8px 0 10px}
  </style>
</head>
<body>
<div class="wrap">
  <h1 id="title">
    <span id="t_reveal">РАСКРОЙ СВОЙ</span><br>
    <span class="glow">КРИСТАЛЛ ДУШИ</span>
  </h1>

  <div class="panel">
    <div class="controls">
      <label class="field">
        <span id="t_birthdate">Дата рождения</span>
        <input type="date" id="date" />
      </label>
      <div class="row">
        <label class="field">
          <span id="t_language">Язык</span>
          <select id="lang">
            <option value="auto">Auto</option>
            <option value="ru">Русский</option>
            <option value="en">English</option>
          </select>
        </label>
        <button class="langBtn" id="btnRu">RU</button>
        <button class="langBtn" id="btnEn">EN</button>
      </div>
      <button class="primary" id="btnCalc">Рассчитать</button>
      <button class="secondary" id="btnPdf">Скачать PDF</button>
    </div>
  </div>

  <div class="badge" id="vyBadge">—</div>

  <div id="matrix" class="grid"></div>

  <div class="card" id="howto">
    <h3 id="howtoTitle">Инструкция к кодам</h3>
    <div id="howtoBody"></div>
  </div>
</div>

<script>
/* ===== i18n (короткая версия для примера) ===== */
const TR = {
  ru:{
    reveal:"РАСКРОЙ СВОЙ", birthdate:"Дата рождения", language:"Язык", calc:"Рассчитать", pdf:"Скачать PDF",
    vy:v=>`Уровень Высшего Я: ${v}`, howtoTitle:"Инструкция к кодам",
    a1:"1) АКТИВАЦИЯ КРИСТАЛЛА ДУШИ", a2:"2) ЗАПУСК ТОРСИОННОГО ПОЛЯ", a3:"3) ИНТЕГРАЦИЯ ТЕЛА СВЕТА"
  },
  en:{
    reveal:"REVEAL YOUR", birthdate:"Birth date", language:"Language", calc:"Calculate", pdf:"Download PDF",
    vy:v=>`Higher Self Level: ${v}`, howtoTitle:"Instructions",
    a1:"1) SOUL CRYSTAL ACTIVATION", a2:"2) TORSION FIELD LAUNCH", a3:"3) LIGHT BODY INTEGRATION"
  }
};
let LANG='ru'; const $=id=>document.getElementById(id);
function applyTexts(){
  const tr=TR[LANG];
  $('t_reveal').textContent=tr.reveal;
  $('t_birthdate').textContent=tr.birthdate;
  $('t_language').textContent=tr.language;
  $('btnCalc').textContent=tr.calc;
  $('btnPdf').textContent=tr.pdf;
  $('howtoTitle').textContent=tr.howtoTitle;
}

/* ===== простые расчёты для примера ===== */
const sumDigits=n=>String(n).split('').reduce((a,b)=>a+ +b,0);
const reduce12=n=>{while(n>12)n=sumDigits(n);return n||12};
const reduce9=n=>{while(n>9)n=sumDigits(n);return n};
function buildPositions(iso){
  const [Y,M,D]=iso.split('-').map(Number);
  const P=Array(13).fill(0);
  P[1]=reduce12(D); P[2]=reduce12(M); P[3]=reduce12(sumDigits(Y));
  P[4]=reduce12(P[1]+P[2]); P[5]=reduce12(P[1]+P[3]); P[6]=reduce12(P[2]+P[3]);
  P[7]=reduce12(P[4]+P[5]); P[8]=reduce12(P[4]+P[6]); P[9]=reduce12(P[5]+P[6]);
  P[10]=reduce12(P[7]+P[8]); P[11]=reduce12(P[7]+P[9]); P[12]=reduce12(P[8]+P[9]);
  const century=Math.floor(Y/100), yy2=Y%100, decRed=reduce9(yy2);
  const VY=D+M+century+decRed; return {P,VY};
}
function renderAll(iso){
  const tr=TR[LANG]; const {P,VY}=buildPositions(iso);
  $('vyBadge').textContent=tr.vy(VY);
  const order=[[10,11,12],[7,8,9],[4,5,6],[1,2,3]];
  $('matrix').innerHTML=order.flat().map(i=>`<div class="cell c${P[i]}"><small>П${i}</small>${P[i]}</div>`).join('');
  $('howtoBody').innerHTML=`
    <div class="instSection inst1"><div class="instTitle">${tr.a1}</div><p>Полный текст активации с дыханиями...</p></div>
    <div class="instSection inst2"><div class="instTitle">${tr.a2}</div><p>Полный текст запуска торсионного поля...</p></div>
    <div class="instSection inst3"><div class="instTitle">${tr.a3}</div><p>Полный текст интеграции тела света...</p></div>`;
}

/* ===== язык ===== */
function setLang(l){ LANG=l; applyTexts(); const iso=$('date').value; if(iso) renderAll(iso); }
$('lang').addEventListener('change',()=>{ const v=$('lang').value; setLang(v==='auto'?(navigator.language.startsWith('ru')?'ru':'en'):v); });
$('btnRu').addEventListener('click',()=>setLang('ru'));
$('btnEn').addEventListener('click',()=>setLang('en'));

/* ===== события ===== */
$('btnCalc').addEventListener('click',()=>{const iso=$('date').value;if(!iso){alert('Выбери дату');return;}localStorage.setItem('k_date',iso);renderAll(iso);});
$('btnPdf').addEventListener('click',()=>alert('PDF позже'));
(function boot(){applyTexts();const saved=localStorage.getItem('k_date');if(saved){$('date').value=saved;renderAll(saved);}})();
</script>
</body>
</html>
